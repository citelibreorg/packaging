{
  "apiVersion": "v1",
  "kind": "Service",
  "metadata": {
    "name": "{{bundlebee-lowercase:{{database.name}}}}",
    "namespace": "{{namespace.name}}",
    "labels": {
      "app.kubernetes.io/name": "{{bundlebee-lowercase:{{database.name}}}}",
      "app.kubernetes.io/instance": "{{database.name}}",
      "app.kubernetes.io/version": "{{database.version}}",
      "app.kubernetes.io/component": "{{database.component}}",
      "app.kubernetes.io/part-of": "{{project.name}}",
      "app.kubernetes.io/managed-by": "bundlebee",
      "deploy.by": "{{user.name:-unknown}}",
      "deploy.at": "{{bundlebee.deploytime:-unset}}"
    }
  },
  "spec": {
    "type": "NodePort",
    "ports": [
      {
        "protocol": "TCP",
        "port": 3306,
        "targetPort": 3306
      }
    ],
    "selector": {
      "app.kubernetes.io/name": "{{bundlebee-lowercase:{{database.name}}}}"
    }
  }
}
